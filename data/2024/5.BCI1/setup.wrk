{"data":[{"id":"1708516869147330","contents":"# 테이블 생성 \r\n- 데이터 저장소인 wind_elec_gen 테이블을 생성하고, 장기 데이터 분석을 위한 롤업도 함께 지정\r\n- 메뉴의 run 버튼을 누르면, 바로 테이블이 생성됨","height":66,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1708516879313927","contents":"drop table bci1 cascade;\r\ncreate tag table if not exists bci1 (\r\n    name varchar(32) primary key,\r\n    time datetime basetime,\r\n    value double summarized\r\n) with rollup;","height":156,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723870829001309","contents":"# 첫번째 : TQL 다이렉트 로딩 \r\n- 장점 : 가장 간편하고, 손쉽게 데이터를 로딩하는 방법\r\n- 단점 : 로딩되는 데이터가 모두 마크베이스 네오의 메모리에 1회 적재될 수 있을 만큼 시스템의 메모리 공간 확보 필요, 로딩 시작되면 중지 불가 \r\n- 메뉴의 run 버튼을 누르면, 데이터 로딩이 시작됨 \r\n","height":140,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723870886846602","contents":"CSV( file(`https://datahub-2024-5.machbase.com/db/query?format=csv&q=` + escapeParam(`select * from bci1`)))\r\nDROP(1)\r\nMAPVALUE(2, parseFloat(value(2)))\r\nMAPVALUE(1, parseTime(value(1), 'ns'))\r\nAPPEND(table('bci1'))","height":135,"lineHeight":19,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723870918423394","contents":"# 두번째 : curl 다이렉트 로딩 \r\n- 장점 : 빠르고, 로딩시 메모리 한계 없음 \r\n- 단점 : 사용자 커맨드 쉘을 통해 curl 명령어 입력 필요 ","height":87,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723870956931263","contents":"curl -o - https://datahub-2024-5.machbase.com/db/query  --data-urlencode \"q=select * from bci1\" --data-urlencode \"format=csv\" |  curl -X POST \"http://127.0.0.1:5654/db/write/bci1?timeformat=ns&heading=true&method=append\" -H \"Content-Type: text/csv\"   --data-binary @-\r\n","height":67,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723964816124139","contents":"# 세번째 : CSV 화일기반 로딩\r\n- CSV 화일 2개 각각 업로드 \r\n- 장점 : 데이터허브의 성능에 영향 받지 않음\r\n- 단점 : 사용자 커맨드 쉘을 통해 curl 명령어 입력 필요 ","height":117,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723965007146752","contents":"curl http://dl.machbase.com/datahub/2024-5/datahub-2024-4-bci1.csv | curl -X POST \"http://127.0.0.1:5654/db/write/bci1?timeformat=ns&heading=true&method=append\" -H \"Content-Type: text/csv\"   --data-binary @-\r\n ","height":81,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304779310289","contents":"# 데이터 로딩 확인 및 후처리 \n- rollup이 모두 완료되었는지 확인 (GAP 컬럼이 모두 0이 아닐 경우 대기 필요)","height":53,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304772927763","contents":"show rollupgap;","height":48,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172430461066863","contents":" # ROLLUP 데이터 GAP 해소 \n - Rollup GAP이 계속 0이 아닐 경우 아래 명령어를 통해 강제로 flush 할 수 있음. ","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304627488343","contents":"exec rollup_force;\nshow rollupgap;","height":97,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true}]}