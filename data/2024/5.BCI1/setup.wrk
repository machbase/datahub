{"data":[{"id":"1708516869147330","contents":"# 테이블 생성 \r\n- 데이터 저장소인 bearing 테이블을 생성하고, 장기 데이터 분석을 위한 롤업도 함께 지정\r\n- 메뉴의 run 버튼을 누르면, 바로 테이블이 생성됨","height":66,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1708516879313927","contents":"drop table bci1 cascade;\r\ncreate tag table if not exists bci1 (\r\n    name varchar(32) primary key,\r\n    time datetime basetime,\r\n    value double summarized\r\n) with rollup;","height":156,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723870829001309","contents":"# 첫번째 : TQL 다이렉트 로딩 \r\n- 로딩되는 화일의 크기가 10GB 이상이므로 프로세서 내에서 처리 불가능 ","height":140,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723870918423394","contents":"# 두번째 : curl 다이렉트 로딩 \r\n- datahub로부터 직접 다운로드 ","height":87,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723870956931263","contents":" curl -o - https://datahub-2024-5.machbase.com/db/query  --data-urlencode \"q=select * from bci1  \" --data-urlencode \"format=csv\" |  machbase-neo shell import --input - --header --method append --timeformat ns bci1\r\n","height":67,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723964816124139","contents":"# 세번째 : CSV 화일기반 로딩 \r\n- 장점 : 데이터허브의 성능에 영향 받지 않음\r\n- 단점 : 사용자 커맨드 쉘을 통해 curl 명령어 입력 필요 ","height":117,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723965007146752","contents":" curl http://dl.machbase.com/datahub/2024-5/datahub-2024-5-bci1.csv | machbase-neo shell import --input - --header --method append --timeformat ns bci1\r\n ","height":81,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304779310289","contents":"# 데이터 로딩 확인 및 후처리 \n- rollup이 모두 완료되었는지 확인 (GAP 컬럼이 모두 0이 아닐 경우 대기 필요)","height":53,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304772927763","contents":"show rollupgap;","height":48,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172430461066863","contents":" # ROLLUP 데이터 GAP 해소 \n - Rollup GAP이 계속 0이 아닐 경우 아래 명령어를 통해 강제로 flush 할 수 있음. ","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1724304627488343","contents":"exec rollup_force;","height":97,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true}]}